<Page
    x:Class="TestverktygProject.View.CreateExam"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TestverktygProject.View"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:data ="using:TestverktygProject.Model"
    xmlns:control = "using:TestverktygProject"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Pivot Title="Create exam">
            <PivotItem Header="Basic information">

                <StackPanel>
                    <TextBlock Text="How many questions do you want?"/>
                    <TextBox PlaceholderText="10 for example"
                                         Name="NumberOfQuestionsToGenerateField"/>
                    <TextBlock Name="SubjectLabel"
                                           Text="Subject:"/>
                    <TextBox Name="SubjectField"
                                         PlaceholderText="Math, for example"/>
                    <TextBlock Name="TitleOfExam"
                                           Text="Title of the Exam:"/>
                    <TextBox Name="TitleOfExamField"
                                         PlaceholderText="Math exam 1, for example..."/>
                    <Button Name="BeforeCreationOfExamInfoButton" Content="Submit" HorizontalAlignment="Right" Click="BeforeCreationOfExamInfoButton_OnClick"/>
                    <StackPanel Orientation="Horizontal"
                                Margin="0,10,0,0">
                        <TextBox Width="200" Text="{Binding SearchText, Mode=TwoWay}"/>
                        <Button Margin="10,0,0,0"
                                Command="{Binding SearchBusCommand}">Go</Button>
                    </StackPanel>
                </StackPanel>


            </PivotItem>
            <PivotItem Header="Create questions">

                <ListView x:Name="QuestionsToBeFilledListView" ItemsSource="{x:Bind CreateExamViewModel.QuestionsToBeFilled}">
    <ListView.ItemTemplate>
        <DataTemplate x:DataType="data:Question">
            <StackPanel Padding="10" 
                        x:Name="CreateQuestionsStackPanel"
                        Width="500"
                        Margin="0,0,0,50">
                <TextBox x:Name="TitleOfQuestion"
                         Text="{Binding QuestionTitle, Mode=TwoWay}"
                         Padding="10"/>
                <TextBox x:Name="Alt1"
                         Text="{Binding Alternatives[0], Mode=TwoWay}"
                         Padding="10"/>
                <TextBox x:Name="Alt2"
                         Text="{Binding Alternatives[1], Mode=TwoWay}"
                         Padding="10"/>
                <TextBox x:Name="Alt3"
                         Text="{Binding Alternatives[2], Mode=TwoWay}"
                         Padding="10"/>
                <TextBox x:Name="Alt4"
                         Text="{Binding Alternatives[3], Mode=TwoWay}"
                         Padding="10"/>
                <TextBlock x:Name="CorrectAnswerLabel"
                           Text="The right answer is: "
                           HorizontalAlignment="Left"/>
                <TextBox x:Name="CorrectAnswerField"
                         Text="{Binding CorrectAnswer, Mode=TwoWay}"
                         HorizontalAlignment="Right"/>
                                <Button x:Name="SubmitQuestionButton"
                        Content="Submit Questions"
                        HorizontalAlignment="Right"
                        Padding="10"
                        Margin="10"
                        Click="SubmitQuestionButton_OnClick"/>
            </StackPanel>
        </DataTemplate>
    </ListView.ItemTemplate>
</ListView>
                
                

            </PivotItem>
            <PivotItem Header="Preview exam">
                <StackPanel>
                    <ListView ItemsSource="{x:Bind CreateExamViewModel.CreatedQuestions}" x:Name="NotYetCreatedExamListView">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="data:Question">
                                <StackPanel Padding="10" 
                            x:Name="CreatedQuestions"
                            Width="500"
                            Margin="0,0,0,50">
                                    <TextBox x:Name="TitleOfQuestion"
                                         PlaceholderText="Enter the title of the question here"
                                         Text="{Binding QuestionTitle, Mode=TwoWay}"
                                         Padding="10"/>
                                    <TextBox x:Name="Alt1"
                                         PlaceholderText="Write an answer here..."
                                         Text="{Binding Alternatives[0], Mode=TwoWay}"
                                         Padding="10"/>
                                    <TextBox x:Name="Alt2"
                                         PlaceholderText="Write an answer here..."
                                         Text="{Binding Alternatives[1], Mode=TwoWay}"
                                         Padding="10"/>
                                    <TextBox x:Name="Alt3"
                                         PlaceholderText="Write an answer here..."
                                         Text="{Binding Alternatives[2], Mode=TwoWay}"
                                         Padding="10"/>
                                    <TextBox x:Name="Alt4"
                                         PlaceholderText="Write an answer here..."
                                         Text="{Binding Alternatives[3], Mode=TwoWay}"
                                         Padding="10"/>
                                    <TextBlock x:Name="CorrectAnswerLabel"
                                           Text="The right answer is: "
                                           HorizontalAlignment="Left"/>
                                    <TextBox x:Name="CorrectAnswerField"
                                         PlaceholderText="Answer with a single digit"
                                         Text="{Binding CorrectAnswer[0], Mode=TwoWay}"
                                         HorizontalAlignment="Right"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

            </PivotItem>
            <PivotItem Header="See created exam">
                <ListView x:Name="SeeCreatedExamListView" ItemsSource="{x:Bind CreateExamViewModel.ExamList}" >
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="data:Exam">
                                <StackPanel >
                                    <TextBlock x:Name="ExamTitle" Text="{Binding ExamName}"/>
                                    <TextBlock x:Name="DateOfExam" Text="{Binding ExamDate}"/>
                                    <TextBlock Name="QuestionTitleFieldCreated"  Text="{Binding ExamName, Mode=TwoWay}"/>
                                    <RadioButton Name="opt1" Content="{Binding Questions, Mode=TwoWay}" />
                                    <!--><RadioButton Name="opt2" Content="{Binding Alternatives[1], Mode=TwoWay}"/>
                                <RadioButton Name="opt3" Content="{Binding Alternatives[2], Mode=TwoWay}"/>
                                <RadioButton Name="opt4"  Content="{Binding Alternatives[3], Mode=TwoWay}"/>-->
                                    <Button Name="CreateExamButton" Content="Create exam" Click="CreateExamButton_OnClick"/>
                                </StackPanel>

                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

            </PivotItem>
        </Pivot>
    </Grid>
</Page>
